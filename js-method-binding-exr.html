<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>Document</title>
  </head>
  <body>
      <p id="output"></p>
    <script>
      //warenkorb.json
      /* var json = require('./warenkorb.json');
      var data = JSON.parse(json);
        console.log(data); */
        fetch('./warenkorb.json')
        .then(function(response) {
          //console.log("typeof response: " + typeof response); //object
          var responseJson = response.json();
          //console.log("typeof responseJson: " + typeof responseJson); //object
          return responseJson;
        })
        .then(function(myJson) {
            var gesamtpreis = 0;
            console.log(gesamtpreis);
          for (let i = 0; i < myJson.length; i++) {
            if (myJson[i].preis) {
                gesamtpreis += myJson[i].preis;
                //output.innerHTML = gesamtpreis;
            } 
          }
          return gesamtpreis;         
        })
        .then(function(preis){
            output.innerHTML = preis;
            return;
        });

/*         $.getJSON('./warenkorb.json', function(text) {
        var data = JSON.parse(text);
        console.log(data);
      }) */
      /* var data = JSON.parse('[{"kategorie":"buch"}]');
        console.log(data); //Array [ {â€¦} ]
         */


      /* loadJSON("./warenkorb.json", function(text) {
        var data = JSON.parse(text);
        console.log(data);
      }); */
    </script>
  </body>
</html>
